<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>reveal.js</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

				<section>
					<section>
						<h2>FlowType In Action</h2>
					</section>
					<section>
						<p>Simple Type Checking.</p>
						<pre><code class="javascript" contenteditable data-trim>
								// @flow
								function square(n: number): number {
									return n * n;
								}

								square("2"); // Error!</code></pre>
						<pre class="fragment"><code class="javascript" contenteditable data-trim>
								// @flow
								function square(n) {
									return n * n; // Error!
								}
								
								square("2");</code></pre>
					</section>
					<section>
							v2
					</section>
					<section>
							v2
					</section>
					<section>
							v2
					</section>
					<section>
							v2
					</section>
					<section>
							v2
					</section>
					<section>
							v2
					</section>
				</section>

				<section>
					<section>
						<h2>FlowType vs TypeScript</h2>
						<h1 class="fragment">FlowType does not believe in you!</h1>
					</section>
					<section>
							<h3>TypeScript</h3>
							<pre class="fragment"><code class="typescript" contenteditable data-trim>
								function foo(num: number) {
									if (num > 10) {
										return 'cool';
									}
								}
								</code>
							</pre>
							<pre class="fragment"><code class="typescript" contenteditable data-trim>
								// cool
								const result: string = foo(100);
								console.log(result.toString());
							</code></pre>

							<pre class="fragment"><code class="typescript" contenteditable data-trim>
							// still cool?
							console.log(foo(1).toString());
							</code></pre>

							<pre class="fragment"><code contenteditable data-trim>
							// error at runtime
							"Cannot read property 'toString' of undefined"
							</code></pre>
							
							<p class="fragment">TypeScript does not catch this</p>
					</section>

					<section>
						<h3>Flow</h3>
						<pre class="fragment"><code class="typescript" contenteditable data-trim>
							function foo(num: number) {
								if (num > 10) {
									return 'cool';
								}
							}
							
							// error: call of method `toString`.
							// Method cannot be called on possibly null value
							console.log(foo(100).toString());
							</code></pre>
						<p class="fragment">Flow does catch this</p>
							<p class="fragment">But why?</p>
					</section>
					<section>
						<h4>Flow does not infer string as the return type</h4>
						<p class="fragment">The inferred type is something else</p>
						<pre class="fragment"><code class="typescript" contenteditable data-trim>
							// error: return undefined.
							// This type is incompatible with string
							function foo(num: number): string {
								if (num > 10) {
									return 'cool';
								}
							}
							</code></pre>
						<pre class="fragment"><code class="typescript" contenteditable data-trim>
							// nullable type: the one inferred
							function foo(num: number): ?string {
								if (num > 10) {
									return 'cool';
								}
							}
							</code></pre>
						<pre class="fragment"><code class="typescript" contenteditable data-trim>
							// to fix this, we need to check the result
							const fooed: ?string = foo(100);
							if (fooed) {
								fooed.toString();
							}
							</code></pre>
					</section>
					<aside class="notes">
						Այստեղ կբերեմ ընդամենը մեկ առավելություն, որը կոնկրետ ինձ համար որոշիչ է այս երկուսի ընտրության հարցում։ Դա այն է. որ TypeScript֊ը հավատում է ձեր գրած տիպերին և խորքային իրական ստուգում չի իրականացնում:
					</aside>
				</section>

				<section>
					<h2>Our Use Case</h2>
						<p class="fragment">
							We have got a huge ReactJs/Redux app
						</p>
						<p class="fragment">
							-can be extended, supported and maintained easily.
						<p>
						<p class="fragment">
							-which has the fastest deplyment cycle in our company.
						</p>
						<aside class="notes">
								երբեմն օրական 5-10 deployment ունենք.
								և հիմա կամաց կիրառում ենք FlowType֊ը նաև backend Node պռոյեկտների վրա։
						</aside>
				</section>

				<section>
						<h2>Why do we need that?</h2>
						<p class="fragment">Catch errors early</p>
						<p class="fragment">Makes code more clear/readable</p>
						<p class="fragment">Better IDE support</p>
						<p class="fragment">Refactor safely.</p>
						<p class="fragment">Collaborate safely.</p>
						<p class="fragment">Grow codebase safely.</p>
						<p class="fragment">Skip corner cases in unit tests.</p>
						<p class="fragment">Deploy with confident.</p>
						<p class="fragment">Reduce runtime errors to 0.</p>
						<p class="fragment">Sleep well :)</p>
				</section>

				<section>
					<h2>What is a FlowType?</h2>
					<p class="fragment">FLOW IS A STATIC TYPE CHECKER FOR JAVASCRIPT.</p>
					<aside class="notes">
							-Runtime checking vs Static checking
							Ռանթայմ ստուգումը կատարվում է բռաուզեռում կամ սերվերային միջավայրում, որի ժամանակ ստացված սխալները շատ հաճախ ծրագիրը դարձնում են անվերականգնելի կամ անկանխատեսելի։

							Ինչպես գիտենք, JavaScript֊ը խիստ տիպիզացված լեզու չէ, և փոփոխականների տիպերը որոշվում են ծրագրի աշխատանքի ժամանակ, և ոչ թե նախօրոք՝ այն գրելու ընթացքում։
							
							FlowType֊ը հնարավորություն է ընձեռնում ձեր JavaScript֊ի ծրագրի մեջ ավելացնել փոփոխականների տիպեր և կատարել անհրաժեշտ ստուգումները մինչև ծրագիրը կհասնի օգտատերերին։
					</aside>
				</section>


				<section>
					<p class="fragment">
						- What is FlowType?
					</p>
					<p class="fragment">
						- Why do we need that?
					</p>
					<p class="fragment">
						- Our use case.
					</p>
					<p class="fragment">
						- FlowType vs TypeScript.
					</p>
					<p class="fragment">
						- FlowType in action.
					</p>
					<p class="fragment">
						- Flow Specific Features.

							<pre>Difference types
								<code>
										type C = $Diff<{ a: string, b: number }, { a: string }>
										// C is { b: number}
								</code>
							</pre>
					</p>

					<p class="fragment">
						- What changes after you are FlowType?
						More monomorphyc functions
						clear code
						clear separation of concerns
						more declarative and functional code
					</p>

					<p class="fragment">
						- When should I use a type checker?
						<ul>
								<li class="fragment">If you are over 21 :)</li>
                <li class="fragment">if your project does not live for long: <em class="fragment">no</em>
                <li class="fragment">if your project is really simple: <em class="fragment">no</em>
                <li class="fragment">if there is a chance you will need to refactor the thing: <em class="fragment">yes</em>
                <li class="fragment">if your system is very important or even crucial for the success of your company: <em class="fragment">yes</em>
                <li class="fragment">if people enter or leave your team frequently: <em class="fragment">yes</em>
            </ul>
					</p>

					<p class="fragment">
						- How to proceed.
						Start small, and add types gradually.
						make use of flow-remove-types package.
					</p>
				</section>

				<section>
					<h1>Thank you!</h1>
					
					<h2>Questions / Discussion</h2>

					<p>
							Edgar Marukyan. CTO at <a href="https://www.renderforest.com/">RenderForest</a>
							<br />Thanks to: <a href="http://zeigermann.eu">Oliver Zeigermann</a>
					</p>
				</section>

				<section>
					<h2 style="text-transform: none;">Static Type Checking in JavaScript with FlowType</h2>
					<p><b>Edgar Marukyan</b></p>
				</section>



























			</div>
		</div>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
